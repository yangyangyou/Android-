public class HttpUtil { //生命Base URL常量 public static final String BASE_URL="http://192.168.1.111:8080/xiaoge/"; //通过URL获得HttpGet对象 public static HttpGet getHttpGet(String url){ HttpGet request = new HttpGet(url); return request; } public static String queryStringForGet(String url){ HttpGet request = HttpUtil.getHttpGet(url); String result = null; try {HttpResponse response = HttpUtil.getHttpResponse(request); if(response.getStatusLine().getStatusCode()==200){ result = EntityUtils.toString(response.getEntity()); byte[] b=result.getBytes("8859-1"); String a=new String(b,"UTF-8"); return result; } } catch (ClientProtocolException e) { e.printStackTrace(); result = "网络异常！"; return result; } catch (IOException e) { e.printStackTrace(); result = "网络异常！"; return result; }return null; } public static HttpResponse getHttpResponse(HttpGet request) throws ClientProtocolException, IOException{ HttpResponse response = new DefaultHttpClient().execute(request); return response; }}
